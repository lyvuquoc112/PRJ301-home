<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Html.html to edit this template
-->
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ShopWatcher — Đồng hồ chính hãng</title>
        <meta name="description" content="ShopWatcher - Mua đồng hồ chính hãng, bảo hành 24 tháng, miễn phí đổi trả 7 ngày."/>
        <style>
            :root{
                --bg:#0f1115;
                --panel:#171a21;
                --muted:#9aa4af;
                --text:#e8ecf1;
                --brand:#6ee7ff;
                --accent:#7c5cff;
                --ok:#5cff8d;
                --danger:#ff6161;
                --warn:#ffcc00;
                --card:#12151b;
                --shadow:0 10px 30px rgba(0,0,0,.35);
                --radius:16px;
            }
            *{
                box-sizing:border-box
            }
            html,body{
                height:100%
            }
            body{
                margin:0;
                background:linear-gradient(180deg,#0d1016, #0b0e13);
                color:var(--text);
                font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial
            }
            a{
                color:inherit;
                text-decoration:none
            }
            .container{
                max-width:1200px;
                margin:0 auto;
                padding:20px
            }
            header{
                position:sticky;
                top:0;
                z-index:50;
                background:rgba(15,17,21,.65);
                backdrop-filter:blur(10px);
                border-bottom:1px solid #222;
            }
            .nav{
                display:flex;
                align-items:center;
                gap:16px;
                padding:12px 20px
            }
            .logo{
                display:flex;
                gap:10px;
                align-items:center;
                font-weight:700
            }
            .logo .chip{
                width:28px;
                height:28px;
                border-radius:10px;
                background:
                    radial-gradient(50% 50% at 30% 30%, #8b7cff 0%, #5dd6ff 60%, transparent 61%),
                    conic-gradient(from 210deg, #5dd6ff, #7c5cff);
                box-shadow:0 0 24px rgba(124,92,255,.35);
            }
            .brand{
                letter-spacing:.4px
            }
            .search{
                margin-left:auto;
                display:flex;
                align-items:center;
                gap:8px;
                background:#0e1218;
                border:1px solid #242933;
                padding:8px 10px;
                border-radius:12px;
                min-width:230px
            }
            .search input{
                all:unset;
                color:var(--text);
                width:100%
            }
            .cart{
                display:flex;
                align-items:center;
                gap:10px;
                padding:8px 10px;
                background:#0e1218;
                border:1px solid #242933;
                border-radius:12px;
                cursor:pointer
            }
            .badge{
                background:var(--accent);
                padding:2px 8px;
                border-radius:999px;
                color:white;
                font-weight:600
            }

            .layout{
                display:grid;
                grid-template-columns:260px 1fr;
                gap:18px;
                margin-top:16px
            }
            @media (max-width:960px){
                .layout{
                    grid-template-columns:1fr
                }
            }
            .panel{
                background:var(--panel);
                border:1px solid #242933;
                border-radius:var(--radius);
                box-shadow:var(--shadow)
            }
            .sidebar{
                padding:16px
            }
            .h{
                font-size:13px;
                color:var(--muted);
                text-transform:uppercase;
                letter-spacing:.12em;
                margin:12px 0 8px
            }
            .row{
                display:flex;
                align-items:center;
                gap:8px;
                margin:8px 0
            }
            .chips{
                display:flex;
                flex-wrap:wrap;
                gap:8px
            }
            .chipbtn{
                padding:8px 10px;
                background:#0f131a;
                border:1px solid #2a313a;
                border-radius:10px;
                cursor:pointer
            }
            .chipbtn.active{
                border-color:var(--brand);
                box-shadow:0 0 0 1px rgba(110,231,255,.35) inset
            }
            .range{
                display:flex;
                gap:8px;
                align-items:center
            }
            .range input{
                width:100%
            }
            .muted{
                color:var(--muted)
            }
            .reset{
                margin-top:8px;
                font-size:13px;
                color:#9abfff;
                cursor:pointer
            }

            .toolbar{
                display:flex;
                flex-wrap:wrap;
                align-items:center;
                gap:12px;
                padding:12px 16px;
                border-bottom:1px solid #242933
            }
            select, button, input[type="number"]{
                background:#0f131a;
                color:var(--text);
                border:1px solid #2a313a;
                border-radius:10px;
                padding:8px 10px
            }
            .grid{
                padding:16px;
                display:grid;
                grid-template-columns:repeat(3,1fr);
                gap:16px
            }
            @media (max-width:1080px){
                .grid{
                    grid-template-columns:repeat(2,1fr)
                }
            }
            @media (max-width:640px){
                .grid{
                    grid-template-columns:1fr
                }
            }

            .card{
                background:var(--card);
                border:1px solid #22262f;
                border-radius:16px;
                overflow:hidden;
                display:flex;
                flex-direction:column
            }
            .thumb{
                aspect-ratio:1.2/1;
                background:#0b0e14;
                display:grid;
                place-items:center;
                position:relative
            }
            .thumb img{
                max-width:88%;
                max-height:88%;
                filter:drop-shadow(0 10px 20px rgba(0,0,0,.45))
            }
            .badge-top{
                position:absolute;
                top:10px;
                left:10px;
                background:#101521;
                border:1px solid #2b3442;
                padding:4px 8px;
                border-radius:999px;
                font-size:12px
            }
            .body{
                padding:12px 12px 14px
            }
            .title{
                font-weight:600
            }
            .meta{
                display:flex;
                justify-content:space-between;
                align-items:center;
                margin-top:6px
            }
            .price{
                font-size:18px;
                font-weight:700
            }
            .stars{
                font-size:12px;
                color:#fbd54a
            }
            .actions{
                display:flex;
                gap:8px;
                margin-top:10px
            }
            .btn{
                flex:1;
                background:linear-gradient(135deg,var(--brand),var(--accent));
                border:none;
                color:#0a0c10;
                font-weight:800;
                padding:10px;
                border-radius:12px;
                cursor:pointer
            }
            .btn-outline{
                flex:1;
                background:#0f131a;
                border:1px solid #2a313a;
                color:#e8ecf1;
                font-weight:600
            }
            .btn:active{
                transform:translateY(1px)
            }

            /* Quick view modal */
            .modal{
                position:fixed;
                inset:0;
                background:rgba(0,0,0,.55);
                display:none;
                place-items:center;
                padding:20px
            }
            .modal.show{
                display:grid
            }
            .modal-card{
                background:var(--panel);
                border:1px solid #2a313a;
                border-radius:16px;
                max-width:760px;
                width:100%;
                display:grid;
                grid-template-columns:1fr 1fr;
                gap:16px;
                padding:16px
            }
            @media (max-width:720px){
                .modal-card{
                    grid-template-columns:1fr
                }
            }
            .close{
                position:absolute;
                top:10px;
                right:14px;
                cursor:pointer;
                color:var(--muted)
            }
            .kv{
                font-size:13px;
                color:var(--muted)
            }
            footer{
                padding:30px 20px;
                color:var(--muted);
                text-align:center
            }
        </style>
    </head>
    <body>
        <header>
            <div class="nav container">
                <div class="logo"><div class="chip"></div><div class="brand">ShopWatcher</div></div>
                <div class="search">
                    🔎 <input id="q" placeholder="Tìm: brand, mẫu, dây, chống nước… (ví dụ: steel 100m)">
                </div>
                <div class="cart" id="cartBtn">🛒 Giỏ hàng <span class="badge" id="cartCount">0</span></div>
            </div>
        </header>

        <div class="container layout">
            <!-- Sidebar filters -->
            <aside class="panel sidebar">
                <div class="h">Hãng</div>
                <div class="chips" id="brandChips"></div>

                <div class="h">Loại dây</div>
                <div class="chips" id="strapChips"></div>

                <div class="h">Giới tính</div>
                <div class="chips" id="genderChips"></div>

                <div class="h">Giá</div>
                <div class="range">
                    <input type="number" id="minPrice" value="1000000" min="0" step="50000" style="width:45%">
                    <span class="muted">—</span>
                    <input type="number" id="maxPrice" value="20000000" min="0" step="50000" style="width:45%">
                </div>
                <div class="reset" id="resetFilters">↺ Xóa bộ lọc</div>
                <div style="margin-top:8px" class="muted">* Giá VND</div>
            </aside>

            <!-- Main -->
            <section class="panel">
                <div class="toolbar">
                    <div class="muted">Sắp xếp</div>
                    <select id="sortSel">
                        <option value="popular">Phổ biến</option>
                        <option value="price_asc">Giá tăng dần</option>
                        <option value="price_desc">Giá giảm dần</option>
                        <option value="newest">Mới nhất</option>
                    </select>
                    <div style="margin-left:auto" class="muted" id="countLbl">0 sản phẩm</div>
                </div>

                <div class="grid" id="grid"></div>
            </section>
        </div>

        <!-- Quick view modal -->
        <div class="modal" id="modal">
            <div class="modal-card">
                <div class="thumb"><img id="mImg" alt=""></div>
                <div style="position:relative">
                    <div class="close" id="mClose">✕</div>
                    <h2 id="mTitle" style="margin:6px 0 8px"></h2>
                    <div class="kv" id="mMeta"></div>
                    <div style="font-size:22px;font-weight:800;margin:12px 0" id="mPrice"></div>
                    <button class="btn" id="mAdd">Thêm vào giỏ</button>
                    <button class="btn-outline" id="mBuy">Mua ngay</button>
                </div>
            </div>
        </div>

        <footer>© ShopWatcher — Bảo hành 24 tháng • Đổi trả 7 ngày</footer>

        <script>
            // ======= DỮ LIỆU MẪU (có thể thay bằng data server) =======
            const PRODUCTS = [
            {id:"sw-omega-aqua", name:"Omega Seamaster Aqua Terra", brand:"Omega", strap:"steel", gender:"nam", price:16500000, water:"150m", rating:4.8, year:2024, img:"https://images.unsplash.com/photo-1524805444758-089113d48a6d?q=80&w=800&auto=format&fit=crop"},
            {id:"sw-casio-edifice", name:"Casio Edifice EFR-568", brand:"Casio", strap:"rubber", gender:"nam", price:3200000, water:"100m", rating:4.4, year:2023, img:"https://images.unsplash.com/photo-1518544801976-3e188eea1553?q=80&w=800&auto=format&fit=crop"},
            {id:"sw-citizen-eco", name:"Citizen Eco-Drive Classic", brand:"Citizen", strap:"leather", gender:"nam", price:5200000, water:"50m", rating:4.6, year:2022, img:"https://images.unsplash.com/photo-1518546305927-5a555bb7020a?q=80&w=800&auto=format&fit=crop"},
            {id:"sw-seiko-5", name:"Seiko 5 Sports", brand:"Seiko", strap:"steel", gender:"nam", price:7800000, water:"100m", rating:4.7, year:2024, img:"https://images.unsplash.com/photo-1523170335258-f5ed11844a49?q=80&w=800&auto=format&fit=crop"},
            {id:"sw-dw-petite", name:"Daniel Wellington Petite", brand:"DW", strap:"mesh", gender:"nữ", price:2950000, water:"30m", rating:4.3, year:2023, img:"https://images.unsplash.com/photo-1587837073080-448bc6a2329b?q=80&w=800&auto=format&fit=crop"},
            {id:"sw-apple-ultra", name:"Apple Watch Ultra (GPS)", brand:"Apple", strap:"rubber", gender:"unisex", price:19990000, water:"100m", rating:4.9, year:2024, img:"https://images.unsplash.com/photo-1661961111184-8503c95657f1?q=80&w=800&auto=format&fit=crop"},
            {id:"sw-gshock", name:"G-SHOCK GA-2100", brand:"G-Shock", strap:"rubber", gender:"unisex", price:3400000, water:"200m", rating:4.8, year:2022, img:"https://images.unsplash.com/photo-1596079890894-1551b07e9f84?q=80&w=800&auto=format&fit=crop"},
            {id:"sw-tissot-prx", name:"Tissot PRX Powermatic 80", brand:"Tissot", strap:"steel", gender:"unisex", price:12900000, water:"100m", rating:4.7, year:2024, img:"https://images.unsplash.com/photo-1592878904946-b3cd5050197d?q=80&w=800&auto=format&fit=crop"},
            {id:"sw-orient-bambino", name:"Orient Bambino Gen 4", brand:"Orient", strap:"leather", gender:"nam", price:4150000, water:"30m", rating:4.5, year:2021, img:"https://images.unsplash.com/photo-1610390292331-0966765d05ed?q=80&w=800&auto=format&fit=crop"}
            ];
            const BRANDS = [...new Set(PRODUCTS.map(p => p.brand))].sort();
            const STRAPS = [...new Set(PRODUCTS.map(p => p.strap))];
            const GENDERS = ["nam", "nữ", "unisex"];
            const state = {
            q:"", brands:new Set(), straps:new Set(), genders:new Set(),
                    min:1000000, max:20000000, sort:"popular",
                    cart: JSON.parse(localStorage.getItem("sw_cart") || "[]")
            };
            // ======= HELPERS =======
            const el = sel => document.querySelector(sel);
            const money = v => v.toLocaleString("vi-VN") + "₫";
            const star = n => "★".repeat(Math.round(n)) + "☆".repeat(5 - Math.round(n));
            function renderChips(container, items, selectedSet){
            const host = el(container); host.innerHTML = "";
            items.forEach(x => {
            const b = document.createElement("button");
            b.className = "chipbtn" + (selectedSet.has(x)?" active":"");
            b.textContent = x;
            b.onclick = () => { selectedSet.has(x)?selectedSet.delete(x):selectedSet.add(x); render(); };
            host.appendChild(b);
            });
            }

            function passes(p){
            if (state.brands.size && !state.brands.has(p.brand)) return false;
            if (state.straps.size && !state.straps.has(p.strap)) return false;
            if (state.genders.size && !state.genders.has(p.gender)) return false;
            if (p.price < state.min || p.price > state.max) return false;
            const q = state.q.trim().toLowerCase();
            if (q){
            const bag = [p.name, p.brand, p.strap, p.gender, p.water].join(" ").toLowerCase();
            if (!bag.includes(q)) return false;
            }
            return true;
            }

            function sortProducts(arr){
            switch (state.sort){
            case "price_asc": return arr.sort((a, b) => a.price - b.price);
            case "price_desc": return arr.sort((a, b) => b.price - a.price);
            case "newest": return arr.sort((a, b) => b.year - a.year);
            default: return arr.sort((a, b) => b.rating - a.rating);
            }
            }

            function render(){
            renderChips("#brandChips", BRANDS, state.brands);
            renderChips("#strapChips", STRAPS, state.straps);
            renderChips("#genderChips", GENDERS, state.genders);
            // inputs
            el("#minPrice").value = state.min;
            el("#maxPrice").value = state.max;
            el("#q").value = state.q;
            el("#sortSel").value = state.sort;
            // grid
            const list = sortProducts(PRODUCTS.filter(passes));
            el("#countLbl").textContent = list.length + " sản phẩm";
            const grid = el("#grid"); grid.innerHTML = "";
            list.forEach(p => {
            const c = document.createElement("div"); c.className = "card";
            c.innerHTML = `
              <div class="thumb">
                <img src="${p.img}" alt="${p.name}" loading="lazy">
                <div class="badge-top">${p.water} • ${p.gender}</div>
              </div>
              <div class="body">
                <div class="title">${p.name}</div>
                <div class="meta">
                  <div class="price">${money(p.price)}</div>
                  <div class="stars" title="${p.rating}">${star(p.rating)}</div>
                </div>
                <div class="muted" style="margin-top:4px">${p.brand} • Dây ${p.strap}</div>
                <div class="actions">
                  <button class="btn-outline" aria-label="Xem nhanh" data-id="${p.id}">Xem nhanh</button>
                  <button class="btn" data-add="${p.id}">Thêm giỏ</button>
                </div>
              </div>`;
            grid.appendChild(c);
            });
            grid.querySelectorAll("[data-id]").forEach(b => b.onclick = () => openQuick(b.dataset.id));
            grid.querySelectorAll("[data-add]").forEach(b => b.onclick = () => addToCart(b.dataset.add));
            el("#cartCount").textContent = state.cart.reduce((s, i) => s + i.qty, 0);
            }

            // ======= QUICK VIEW =======
            function openQuick(id){
            const p = PRODUCTS.find(x => x.id === id); if (!p) return;
            el("#mImg").src = p.img; el("#mImg").alt = p.name;
            el("#mTitle").textContent = p.name;
            el("#mMeta").textContent = `${p.brand} • Dây ${p.strap} • ${p.gender} • Chống nước ${p.water}`;
            el("#mPrice").textContent = money(p.price);
            el("#mAdd").onclick = () => { addToCart(p.id); closeQuick(); };
            el("#mBuy").onclick = () => { addToCart(p.id); alert("Đi đến trang thanh toán (demo)"); };
            el("#modal").classList.add("show");
            }
            function closeQuick(){ el("#modal").classList.remove("show"); }
            el("#mClose").onclick = closeQuick;
            el("#modal").addEventListener("click", e => { if (e.target.id === "modal") closeQuick(); });
            // ======= CART =======
            function addToCart(id){
            const idx = state.cart.findIndex(x => x.id === id);
            if (idx > - 1) state.cart[idx].qty += 1;
            else state.cart.push({id, qty:1});
            localStorage.setItem("sw_cart", JSON.stringify(state.cart));
            render();
            }
            el("#cartBtn").onclick = () => alert("Giỏ hàng (demo):\n" + state.cart.map(i => {
            const p = PRODUCTS.find(x => x.id === i.id); return `${p?.name || i.id} x ${i.qty}`;
            }).join("\n") || "Trống");
            // ======= EVENTS =======
            el("#q").addEventListener("input", e => { state.q = e.target.value; render(); });
            el("#minPrice").onchange = e => { state.min = + e.target.value || 0; render(); }
            el("#maxPrice").onchange = e => { state.max = + e.target.value || 999999999; render(); }
            el("#sortSel").onchange = e => { state.sort = e.target.value; render(); }
            el("#resetFilters").onclick = () => {
            state.brands.clear(); state.straps.clear(); state.genders.clear();
            state.min = 1000000; state.max = 20000000; state.q = ""; state.sort = "popular"; render();
            }

            // ======= INIT =======
            render();
        </script>
    </body>
</html>
